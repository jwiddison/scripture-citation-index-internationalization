#!/bin/bash

BASE="https://www.lds.org/scriptures/"
QUERY="?lang=spa"

VOLUME=ot
BOOKS="50:gen 40:ex 27:lev 36:num 34:deut 24:josh 21:judg 4:ruth 31:1-sam 24:2-sam 22:1-kgs 25:2-kgs 29:1-chr 36:2-chr 10:ezra 13:neh 10:esth 42:job 150:ps 31:prov 12:eccl 8:song 66:isa 52:jer 5:lam 48:ezek 12:dan 14:hosea 3:joel 9:amos 1:obad 4:jonah 7:micah 3:nahum 3:hab 3:zeph 2:hag 14:zech 4:mal"

mkdir $VOLUME
cd $VOLUME

for BOOK in $BOOKS; do
    IFS=':' read -ra PARTS <<< "$BOOK"
    COUNT=${PARTS[0]}
    URL_PATH=${PARTS[1]}
    echo "${COUNT}, ${URL_PATH}"

    if [ $COUNT -eq 0 ]; then
        URL="${BASE}/${VOLUME}/${URL_PATH}${QUERY}"
        wget --no-check-certificate --wait=3 --random-wait --header='User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_2) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.94 Safari/537.4' "$URL"
    else
        mkdir $URL_PATH
        cd $URL_PATH

        I=1
        while [ $I -le $COUNT ]; do
            URL="${BASE}/${VOLUME}/${URL_PATH}/${I}${QUERY}"
            wget --no-check-certificate --wait=3 --random-wait --header='User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_2) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.94 Safari/537.4' "$URL"
            I=$(( I+1 ))
        done

        cd ..
    fi
done

cd ..

VOLUME=nt
BOOKS="28:matt 16:mark 24:luke 21:john 28:acts 16:rom 16:1-cor 13:2-cor 6:gal 6:eph 4:philip 4:col 5:1-thes 3:2-thes 6:1-tim 4:2-tim 3:titus 1:philem 13:heb 5:james 5:1-pet 3:2-pet 5:1-jn 1:2-jn 1:3-jn 1:jude 22:rev"

mkdir $VOLUME
cd $VOLUME

for BOOK in $BOOKS; do
    IFS=':' read -ra PARTS <<< "$BOOK"
    COUNT=${PARTS[0]}
    URL_PATH=${PARTS[1]}
    echo "${COUNT}, ${URL_PATH}"

    if [ $COUNT -eq 0 ]; then
        URL="${BASE}/${VOLUME}/${URL_PATH}${QUERY}"
        wget --no-check-certificate --wait=3 --random-wait --header='User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_2) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.94 Safari/537.4' "$URL"
    else
        mkdir $URL_PATH
        cd $URL_PATH

        I=1
        while [ $I -le $COUNT ]; do
            URL="${BASE}/${VOLUME}/${URL_PATH}/${I}${QUERY}"
            wget --no-check-certificate --wait=3 --random-wait --header='User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_2) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.94 Safari/537.4' "$URL"
            I=$(( I+1 ))
        done

        cd ..
    fi
done

cd ..

VOLUME=bofm
BOOKS="0:bofm-title 0:introduction 0:three 0:eight 22:1-ne 33:2-ne 7:jacob 1:enos 1:jarom 1:omni 1:w-of-m 29:mosiah 63:alma 16:hel 30:3-ne 1:4-ne 9:morm 15:ether 10:moro"

mkdir $VOLUME
cd $VOLUME

for BOOK in $BOOKS; do
    IFS=':' read -ra PARTS <<< "$BOOK"
    COUNT=${PARTS[0]}
    URL_PATH=${PARTS[1]}
    echo "${COUNT}, ${URL_PATH}"

    if [ $COUNT -eq 0 ]; then
        URL="${BASE}/${VOLUME}/${URL_PATH}${QUERY}"
        wget --no-check-certificate --wait=3 --random-wait --header='User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_2) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.94 Safari/537.4' "$URL"
    else
        mkdir $URL_PATH
        cd $URL_PATH

        I=1
        while [ $I -le $COUNT ]; do
            URL="${BASE}/${VOLUME}/${URL_PATH}/${I}${QUERY}"
            wget --no-check-certificate --wait=3 --random-wait --header='User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_2) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.94 Safari/537.4' "$URL"
            I=$(( I+1 ))
        done

        cd ..
    fi
done

cd ..

VOLUME=dc-testament
BOOKS="0:introduction 138:dc 2:od"

mkdir $VOLUME
cd $VOLUME

for BOOK in $BOOKS; do
    IFS=':' read -ra PARTS <<< "$BOOK"
    COUNT=${PARTS[0]}
    URL_PATH=${PARTS[1]}
    echo "${COUNT}, ${URL_PATH}"

    if [ $COUNT -eq 0 ]; then
        URL="${BASE}/${VOLUME}/${URL_PATH}${QUERY}"
        wget --no-check-certificate --wait=3 --random-wait --header='User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_2) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.94 Safari/537.4' "$URL"
    else
        mkdir $URL_PATH
        cd $URL_PATH

        I=1
        while [ $I -le $COUNT ]; do
            URL="${BASE}/${VOLUME}/${URL_PATH}/${I}${QUERY}"
            wget --no-check-certificate --wait=3 --random-wait --header='User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_2) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.94 Safari/537.4' "$URL"
            I=$(( I+1 ))
        done

        cd ..
    fi
done

cd ..

VOLUME=pgp
BOOKS="8:moses 5:abr 0:abr/fac-1 0:abr/fac-2 0:abr/fac-3 1:js-m 1:js-h 1:a-of-f"

mkdir $VOLUME
cd $VOLUME

for BOOK in $BOOKS; do
    IFS=':' read -ra PARTS <<< "$BOOK"
    COUNT=${PARTS[0]}
    URL_PATH=${PARTS[1]}
    echo "${COUNT}, ${URL_PATH}"

    if [ $COUNT -eq 0 ]; then
        URL="${BASE}/${VOLUME}/${URL_PATH}${QUERY}"
        wget --no-check-certificate --wait=3 --random-wait --header='User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_2) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.94 Safari/537.4' "$URL"
    else
        mkdir $URL_PATH
        cd $URL_PATH

        I=1
        while [ $I -le $COUNT ]; do
            URL="${BASE}/${VOLUME}/${URL_PATH}/${I}${QUERY}"
            wget --no-check-certificate --wait=3 --random-wait --header='User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_2) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.94 Safari/537.4' "$URL"
            I=$(( I+1 ))
        done

        cd ..
    fi
done

cd ..

